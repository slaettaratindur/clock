<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="initial-scale=1,width=device-width">
<style>a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;box-sizing:border-box;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}html{height:100%}body{background-color:#000;color:#fff;font-family:Verdana,Geneva,sans-serif;height:100%;padding:8px;width:100%}a{color:#fff;font-size:90%}.flexCenter{align-items:center;display:flex;flex-direction:column;gap:8px;justify-content:center}#mainContainer{height:100%;overflow:hidden;width:100%}#imageContainer{flex:1;overflow:hidden}#loader{animation:l3 1s infinite linear;aspect-ratio:1;background:#268bd2;border-radius:50%;--_m:conic-gradient(#0000 10%,#000),linear-gradient(#000 0 0) content-box;mask:var(--_m);-webkit-mask:var(--_m);-webkit-mask-composite:source-out;mask-composite:subtract;padding:8px;width:50px}@keyframes l3{to{transform:rotate(1turn)}}.image{max-height:100%;max-width:100%;transition:opacity .2s ease-in-out}#infoContainer{transition:opacity .2s ease-in-out}.hidden{opacity:0}</style>
<script>const URL_BASE="https://commons.wikimedia.org/w/api.php",IMAGE_WIDTH=1e3,getLocalTime=()=>{const e=new Date,t=e.getHours(),i=e.getMinutes();return`${("0"+t).slice(-2)}:${("0"+i).slice(-2)}`},repeatFunction=(e,t=6e4)=>{const i=new Date;setTimeout((()=>{e(),setInterval(e,t)}),t-i%t)},formatUrl=e=>(e.format||(e.format="json"),`${URL_BASE}?${Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}`),queryCommons=e=>new Promise(((t,i)=>{const o=formatUrl(e);fetch(o).then((e=>e.json())).then((e=>{t(e.query)})).catch((e=>{i()}))})),getCategoryFiles=e=>new Promise(((t,i)=>{queryCommons({action:"query",cmlimit:500,cmprop:"title",cmtitle:`Category:${e}`,cmtype:"file",list:"categorymembers"}).then((e=>{t(e.categorymembers.map((e=>e.title)).filter((e=>{const t=e.replaceAll(/^.*\.([^\.]+)$/g,"$1").toLowerCase();return["jpg","jpeg","png"].includes(t)})))})).catch((e=>{console.error(e),i()}))})),getImageInfos=e=>new Promise(((t,i)=>{queryCommons({action:"query",titles:e,prop:"imageinfo",iiprop:"url|user",iiurlwidth:1e3}).then((i=>{const o=Object.keys(i.pages)[0],n=i.pages[o].imageinfo[0];t({height:n.thumbheight,name:e,url:n.thumburl,user:n.user,width:n.thumbwidth})})).catch((e=>{console.error(e),i()}))})),createImage=(e,t)=>{const i=document.createElement("img");i.src=e,i.classList.add("image"),i.style.visibility="hidden",i.style.opacity=0,i.onload=()=>{t&&o.removeChild(t),i.style.visibility="visible",i.style.opacity=1};const o=document.getElementById("imageContainer");o.appendChild(i)},updateImage=e=>{const t=document.getElementById("imageContainer"),i=t.children[0],o=document.createElement("img");o.src=e,o.classList.add("image"),o.style["max-height"]=0,o.style.visibility="hidden",o.style.opacity=0,o.onload=()=>{i.style.opacity=0,setTimeout((()=>{t.removeChild(i),o.style["max-height"]="100%",o.style.visibility="visible",o.style.opacity=1}),1e3)},t.appendChild(o)},updateFileLink=e=>{document.getElementById("filename").innerHTML=`<a href="https://commons.wikimedia.org/wiki/${e}">${e}</a>`},updateUserLink=e=>{document.getElementById("user").innerHTML=`<a href="https://commons.wikimedia.org/wiki/User:${e}">User:${e}</a>`},displayImage=async e=>{const t=document.getElementById("loader");var i,o;t?(createImage(e.url,t),document.getElementById("infoContainer").classList.remove("hidden")):updateImage(e.url),i=e.name,document.getElementById("filename").innerHTML=`<a href="https://commons.wikimedia.org/wiki/${i}">${i}</a>`,o=e.user,document.getElementById("user").innerHTML=`<a href="https://commons.wikimedia.org/wiki/User:${o}">User:${o}</a>`},loadNewImage=async()=>{const e=getLocalTime(),t=await(i=`Time ${e}`,new Promise(((e,t)=>{queryCommons({action:"query",cmlimit:500,cmprop:"title",cmtitle:`Category:${i}`,cmtype:"file",list:"categorymembers"}).then((t=>{e(t.categorymembers.map((e=>e.title)).filter((e=>{const t=e.replaceAll(/^.*\.([^\.]+)$/g,"$1").toLowerCase();return["jpg","jpeg","png"].includes(t)})))})).catch((e=>{console.error(e),t()}))})));var i;const o=t[Math.floor(Math.random()*t.length)],n=await(a=o,new Promise(((e,t)=>{queryCommons({action:"query",titles:a,prop:"imageinfo",iiprop:"url|user",iiurlwidth:1e3}).then((t=>{const i=Object.keys(t.pages)[0],o=t.pages[i].imageinfo[0];e({height:o.thumbheight,name:a,url:o.thumburl,user:o.user,width:o.thumbwidth})})).catch((e=>{console.error(e),t()}))})));var a;displayImage(n)},process=async()=>{await loadNewImage(),repeatFunction(loadNewImage)};document.addEventListener("DOMContentLoaded",(()=>{process()}))</script>
</head>
<body>
<div id=mainContainer class=flexCenter>
<div id=imageContainer class=flexCenter>
<div id=loader></div>
</div>
<div id=infoContainer class="hidden flexCenter">
<span id=filename></span> - <span id=user></span>
</div>
</div>
</body>
</html>